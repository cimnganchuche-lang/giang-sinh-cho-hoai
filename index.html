<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>üéÑ Noel B√¨nh An</title>

<style>
*{box-sizing:border-box;-webkit-tap-highlight-color:transparent}
body{
  margin:0;
  height:100vh;
  background:#1b1b1b;
  font-family:"Segoe UI",sans-serif;
  overflow:hidden;
  color:#fff;
}

/* LOGIN */
#login{
  position:absolute;inset:0;
  display:flex;justify-content:center;align-items:center;
}
#loginBox{
  background:#fff;color:#333;
  padding:25px;border-radius:18px;
  width:90%;max-width:320px;text-align:center;
}
#loginBox input{
  width:100%;padding:12px;
  border-radius:10px;border:2px solid #ff7aa2;
}
#loginBox button{
  margin-top:15px;
  padding:10px 25px;
  border:none;border-radius:20px;
  background:#ff5c8a;color:#fff;
}

/* QUIZ */
#quiz{
  position:absolute;inset:0;
  display:none;justify-content:center;align-items:center;
  padding:20px;text-align:center;
}
#quizBox{max-width:360px}
.answer{
  margin-top:12px;padding:10px;
  border-radius:20px;
  background:rgba(255,255,255,.15);
}
.answer.disabled{opacity:.4;pointer-events:none}

/* GIFT */
.gift{
  position:absolute;
  font-size:38px;
  cursor:pointer;
  user-select:none;
}

/* FAKE FREEZE */
#freeze{
  position:absolute;inset:0;
  background:rgba(0,0,0,.2);
  display:none;
  z-index:99;
}

/* SANTA */
#santa{
  position:absolute;
  font-size:48px;
  top:20%;
  left:-100px;
  display:none;
  z-index:50;
  animation:santaRun 6s linear forwards;
}
@keyframes santaRun{
  from{left:-120px}
  to{left:110%}
}

/* MAIL */
#mail{
  position:absolute;
  font-size:42px;
  display:none;
  left:50%;top:50%;
  transform:translate(-50%,-50%);
  cursor:pointer;
}

/* LETTER */
#letter{
  position:absolute;inset:0;
  background:rgba(0,0,0,.6);
  display:none;justify-content:center;align-items:center;
}
#letterBox{
  background:#fff;color:#333;
  padding:25px;border-radius:20px;
  max-width:340px;
}
#letterBox p{line-height:1.7}

/* SNOW */
.snow{
  position:absolute;
  animation:snowFall linear infinite;
}
@keyframes snowFall{
  from{transform:translateY(-10px)}
  to{transform:translateY(110vh)}
}
</style>
</head>

<body>

<audio id="music" loop>
  <source src="nhac.mp3" type="audio/mpeg">
</audio>

<div id="freeze"></div>
<div id="santa">üßë‚ÄçüéÑ</div>

<!-- LOGIN -->
<div id="login">
  <div id="loginBox">
    <h3>üîê Nh·∫≠p m·∫≠t kh·∫©u</h3>
    <input id="pass" type="password" placeholder="M·∫≠t kh·∫©u">
    <button onclick="checkPass()">V√ÄO</button>
  </div>
</div>

<!-- QUIZ -->
<div id="quiz">
  <div id="quizBox"></div>
</div>

<!-- MAIL -->
<div id="mail">‚úâÔ∏è</div>

<!-- LETTER -->
<div id="letter">
  <div id="letterBox">
    <h3>üéÑ Noel B√¨nh An</h3>
    <p id="letterText"></p>
  </div>
</div>

<script>
/* ===== CONFIG ===== */
const PASSWORD="22082012Hoai";
const music=document.getElementById("music");
const santa=document.getElementById("santa");

/* ===== LOGIN ===== */
function checkPass(){
  if(pass.value===PASSWORD){
    login.style.display="none";
    quiz.style.display="flex";
    music.play();
    startSnow();
    showQuestion();
  }else alert("Sai m·∫≠t kh·∫©u üòõ");
}

/* ===== QUIZ ===== */
const questions=[
"Noel t·ªõi r·ªìi, c·∫£m gi√°c c·ªßa b·∫°n l√† g√¨?",
"D·∫°o n√†y b·∫°n ng·ªß c√≥ ƒë·ªß kh√¥ng?",
"Tr·ªùi l·∫°nh, b·∫°n c√≥ nh·ªõ gi·ªØ ·∫•m kh√¥ng?",
"Noel n√†y, b·∫°n mu·ªën ƒëi·ªÅu g√¨ nh·∫•t?",
"T·ªëi nay‚Ä¶ ngh·ªâ m·ªôt ch√∫t nh√©?"
];
let q=0;

function showQuestion(){
  quizBox.innerHTML="";
  if(q<questions.length){
    quizBox.innerHTML=`
      <h2>${questions[q]}</h2>
      <div class="answer">·ª™</div>
      <div class="answer">C≈©ng ƒë∆∞·ª£c</div>
      <div class="answer">Kh√¥ng bi·∫øt</div>
      <div class="answer">...</div>
    `;
    document.querySelectorAll(".answer").forEach(a=>{
      a.onclick=()=>{
        document.querySelectorAll(".answer").forEach(x=>x.classList.add("disabled"));
        setTimeout(()=>{ q++; showQuestion(); },1000);
      }
    });
  }else{
    quiz.style.display="none";
    startGiftTroll();
  }
}

/* ===== GIFT TROLL ===== */
const icons=["üéÅ","üçé","üß±","üí£"];
let gifts=[], moveTimer, santaCount=0;

function startGiftTroll(){
  for(let i=0;i<7;i++){
    const g=document.createElement("div");
    g.className="gift";
    g.innerText=icons[Math.floor(Math.random()*icons.length)];
    g.onclick=()=>fakeClick(g);
    document.body.appendChild(g);
    gifts.push(g);
  }
  moveGifts();
  moveTimer=setInterval(()=>{
    moveGifts();

    // cho √¥ng gi√† Noel ch·∫°y ng·∫´u nhi√™n
    if(Math.random()<0.1 && santaCount<3){
      runSanta();
      santaCount++;
    }

  },220);

  setTimeout(endGift,10000);
}

function moveGifts(){
  gifts.forEach(g=>{
    g.style.left=Math.random()*(innerWidth-50)+"px";
    g.style.top=Math.random()*(innerHeight-50)+"px";
  });
}

function fakeClick(g){
  freeze.style.display="block";
  setTimeout(()=>freeze.style.display="none",1500);
  alert("‚ùå Sai r·ªìi üòõ");
  g.innerText=icons[Math.floor(Math.random()*icons.length)];
}

function endGift(){
  clearInterval(moveTimer);
  gifts.forEach(g=>g.remove());
  mail.style.display="block";
}

/* ===== SANTA ===== */
function runSanta(){
  santa.style.display="block";
  santa.style.top=Math.random()*60+10+"%";
  santa.style.animation="none";
  void santa.offsetWidth;
  santa.style.animation="santaRun 6s linear forwards";
  setTimeout(()=>santa.style.display="none",6000);
}

/* ===== LETTER ===== */
const lines=[
"üéÑ Gi√°ng Sinh t·ªõi r·ªìi.",
"",
"ü§∑‚Äç‚ôÇÔ∏è T kh√¥ng bi·∫øt m ·ªïn hay kh√¥ng.",
"",
"‚è∏Ô∏è Nh∆∞ng th√¥i, t·ªëi nay ngh·ªâ m·ªôt ch√∫t ƒëi.",
"",
"‚ùÑÔ∏è Tr·ªùi l·∫°nh.",
"üß• Nh·ªõ gi·ªØ ·∫•m.",
"",
"üéÅ Noel b√¨nh an."
];

mail.onclick=()=>{
  letter.style.display="flex";
  let i=0;
  letterText.innerHTML="";
  const run=setInterval(()=>{
    if(i<lines.length){
      letterText.innerHTML+=lines[i]+"<br>";
      i++;
    }else clearInterval(run);
  },650);
};

/* ===== SNOW ===== */
function startSnow(){
  for(let i=0;i<30;i++){
    const s=document.createElement("div");
    s.className="snow";
    s.innerText="‚ùÑ";
    s.style.left=Math.random()*100+"vw";
    s.style.fontSize=10+Math.random()*10+"px";
    s.style.animationDuration=5+Math.random()*6+"s";
    document.body.appendChild(s);
  }
}
</script>

</body>
</html>
